2012-09-21T21:12:00.000Z	klpkt		I can't access the internet on my ubuntu machine. I am connected to the network, thanks to brobostigon at #ubuntu-uk, but I still can't access the network because "The DNS lookup failed"
2012-09-21T21:12:00.000Z	klpkt		Can anyone help?
2012-09-21T21:13:00.000Z	genii-around	klpkt	But you can ping machines on the internet at large by their IP directly?
2012-09-21T21:14:00.000Z	klpkt	genii-around	I tried pinging, but it says unknown host.
2012-09-21T21:14:00.000Z	klpkt	genii-around	The browser says "Unable to resolve the server's DNS address.
2012-09-21T21:15:00.000Z	genii-around	klpkt	If you do: ping -c9  74.125.226.78     does it find that IP? ( it belongs to Google)
2012-09-21T21:16:00.000Z	klpkt	genii-around	Now it says that the network is unreachable.
2012-09-21T21:19:00.000Z	genii-around	klpkt	How is your computer supposed to connect to the internet? eg: internet->modem->computer  or internet->modem->switch/wifi->computer  or some other thing
2012-09-21T21:20:00.000Z	klpkt	genii-around	I don't know (And you're probably hear that a lot. I said it A Lot on the other channel)
2012-09-21T21:22:00.000Z	klpkt	genii-around	I know I saw it somewhere, though. I just can't remember where!
2012-09-21T21:24:00.000Z	genii-around	klpkt	OK. So you must pay some company for internet access of some kind. They must have given you a gadget that would usually either connect to your phone line or to your television cable cord ( there are other kinds but these are the most common).  Do you know what the box they gave you connects to?
2012-09-21T21:26:00.000Z	klpkt	genii-around	According to my parents, we have a broadband/ADSL/something...
2012-09-21T21:28:00.000Z	klpkt	genii-around	The router page/thingie says that it's Internet>router>computer.
2012-09-21T21:28:00.000Z	genii-around	klpkt	OK, so it connects to the phone line. Now, that gadget is the modem. A lot of modems also have extra plugs on them that are slightly wider than a phone jack, that is how you normally connect computers to it.
2012-09-21T21:29:00.000Z	genii-around	klpkt	Does your computer have a cord currently attached which connects it to the modem/router?
2012-09-21T21:31:00.000Z	genii-around	klpkt	OK. If you issue:  iwlist wlan0 scan     ...does it show the name of your router?
2012-09-21T21:32:00.000Z	genii-around	klpkt	( the line which starts with: ESSID )
2012-09-21T21:32:00.000Z	klpkt	genii-around	Yes
2012-09-21T21:33:00.000Z	genii-around	klpkt	Good. In the other info there, does it say something like WEP or WPA or WPA2 ?
2012-09-21T21:34:00.000Z	klpkt	genii-around	Yes, it says IE: IEEE 802.11i/WPA2 Version 1
2012-09-21T21:35:00.000Z	genii-around	klpkt	OK. If you put: apt-cache policy wpasupplicant    does it say that program is installed?
2012-09-21T21:36:00.000Z	klpkt	genii-around	Yes
2012-09-21T21:41:00.000Z	genii-around	klpkt	OK, good. So at this point, you need to dig out what is supposed to be the password for it. Don't tell me what it is. Then: sudo nano /etc/wpa.conf      and I will give you a link with the contents to put in that file.
2012-09-21T22:01:00.000Z	genii-around	klpkt	The computer says that the command called ifconfig   is not found?
2012-09-21T21:42:00.000Z	klpkt	genii-around	That almost sounded like you were going to do a magic trick "Don't tell me what it is"
2012-09-21T21:43:00.000Z	klpkt	genii-around	As in, the password for the network/router?
2012-09-21T21:44:00.000Z	genii-around	klpkt	Yes, the wireless password it wants when you need to connect to it
2012-09-21T21:44:00.000Z	genii-around	klpkt	http://pastebin.ca/2206359  is what to put in the file wpa.conf
2012-09-21T21:46:00.000Z	genii-around	klpkt	Then you use ctrl-x to exit nano , hit Enter for the filename
2012-09-21T21:47:00.000Z	klpkt	genii-around	Okay, I've done that, what now?
2012-09-21T21:49:00.000Z	genii-around	klpkt	You put in the correct values for your ESSID and password and not what I had, yes?
2012-09-21T21:49:00.000Z	klpkt	genii-around	Yes
2012-09-21T21:51:00.000Z	genii-around	klpkt	OK. Does: grep wlan0 /etc/network/interfaces     produce anything or bring you back to command prompt?
2012-09-21T21:52:00.000Z	klpkt	genii-around	It doesn't do anything.
2012-09-21T21:53:00.000Z	genii-around	klpkt	OK. So: sudo nano /etc/network/interfaces     and I'll give another pastebin link shortly of what to add there
2012-09-21T21:56:00.000Z	klpkt	genii-around	The file already contains two lines of content; what should I do with it?
2012-09-21T21:56:00.000Z	genii-around	klpkt	Just add to the content underneath and leave what is already there. http://pastebin.ca/2206369       then as before ctrl-x and Enter to save and exit
2012-09-21T21:58:00.000Z	klpkt	genii-around	Okay, I've done that.
2012-09-21T21:59:00.000Z	genii-around	klpkt	Does result of: ifconfig        show that wlan0 is currently up and active?
2012-09-21T22:00:00.000Z	klpkt	genii-around	It says the command wasn't found.
2012-09-21T22:01:00.000Z	klpkt	genii-around	Yes. I have to go, and won't be back very soon. Is there any info I should pass on if you're not here when I come back?
2012-09-21T22:02:00.000Z	genii-around	klpkt	As we have now, it should connect automatically the next reboot
2012-09-21T22:02:00.000Z	klpkt	genii-around	As in fixing the DNS lookup too?
2012-09-21T22:03:00.000Z	genii-around	klpkt	wpa_supplicant   will do the authentication, then the computer will get an IP from the router which at the same time, the router should tell it the correct DNS info to use.
2012-09-21T22:25:00.000Z	klpkt	genii-around	I'm back, much earlier than expected! And the DNS lookup still doesn't work...
2012-09-21T22:26:00.000Z	genii-around	klpkt	Does it connect to the router now?
2012-09-21T22:27:00.000Z	klpkt	genii-around	Well, we might have misunderstood each other... In the #ubuntu-uk channel, I managed to connect to the router, but the DNS lookup failed. Then one of them directed me here, because none of them knew what to do.
2012-09-21T22:28:00.000Z	genii-around	klpkt	eg - the result of: ifconfig wlan0        should have an IP address in the line starting with: inet addr:
2012-09-21T22:30:00.000Z	klpkt	genii-around	It does give something, but no line starting with inet addr:
2012-09-21T22:30:00.000Z	genii-around	klpkt	OK. So we try then: sudo wpa_supplicant -c /etc/wpa.conf &                            just like that with the trailing &
2012-09-21T22:31:00.000Z	klpkt	genii-around	That returns [1] 2360
2012-09-21T22:32:00.000Z	genii-around	klpkt	Now to try: sudo dhclient wlan0
2012-09-21T22:34:00.000Z	klpkt	genii-around	Up until now, it hasn't responded.
2012-09-21T22:34:00.000Z	genii-around	klpkt	Did it get an IP or eventually time out?
2012-09-21T22:35:00.000Z	klpkt	genii-around	It just stands there, not doing anything. Or, I guess it does something, but not anything visible.
2012-09-21T22:40:00.000Z	genii-around	klpkt	Ah, we probably need to specify the interface for the auth. So: ctrl-c  to interrupt it.   Then: sudo killall wpa_supplicant      then: sudo wpa_supplicant -iwlan0 -c/etc/wpa.conf &  sudo dhclient wlan0
2012-09-21T22:40:00.000Z	klpkt	genii-around	Now it has stopped, but without returning anything.
2012-09-21T22:41:00.000Z	klpkt	genii-around	Shall I still do those commands
2012-09-21T22:44:00.000Z	genii-around	klpkt	Yes, first kill the existing wpa_supplicant, then restart it specifying with wlan0, then try to get an IP, etc
2012-09-21T22:50:00.000Z	klpkt	genii-around	Okay, what now?
2012-09-21T22:51:00.000Z	genii-around	klpkt	Did it get an IP this time?
2012-09-21T22:51:00.000Z	klpkt	genii-around	I didn't see one
2012-09-21T22:52:00.000Z	genii-around	klpkt	Does: ifconfig wlan0         show one?
2012-09-21T22:52:00.000Z	klpkt	genii-around	IT WORKS! Thank you so much!!!
2012-09-21T22:53:00.000Z	genii-around	klpkt	I messed up the syntax for the wpa_supplicant command. You need to change the one in /etc/network/interfaces to match what we just used
2012-09-21T22:53:00.000Z	genii-around	klpkt	( with the -iwlan0   and -c/etc/wpa.conf  instead of with spaces after the -c like I had earlier )
2012-09-21T22:53:00.000Z	klpkt	genii-around	That doesn't matter right now, because it WORKS!
2012-09-21T22:54:00.000Z	genii-around	klpkt	Good :-)
2012-09-22T00:10:00.000Z	klpkt	genii-around	Hey! You're still here? That's great, because apparently my web access didn't work after all...
2012-09-22T00:18:00.000Z	klpkt	genii-around	Are you still here?
2012-09-22T00:36:00.000Z	genii-around	klpkt	Yes, although work is extremely busy
2012-09-22T00:36:00.000Z	klpkt	genii-around	Are you too busy to help me with the internet again?
2012-09-22T00:37:00.000Z	genii-around	klpkt	I can help, but there will be sometimes long lag between my replies.
2012-09-22T00:38:00.000Z	klpkt	genii-around	Okay, now the problem is that I, when I turn on my computer, it takes a while, trying to get network data or something, and then starts without it. Thus, it doesn't even try to connect to the internet...
2012-09-22T00:51:00.000Z	klpkt	genii-around	Just wondering, what is your job?
2012-09-22T00:53:00.000Z	genii-around	klpkt	Superintendent of an office building.
2012-09-22T00:54:00.000Z	genii-around	klpkt	At any rate: Did you make the changes required to the /etc/network/interfaces file as i earlier asked?
2012-09-22T00:55:00.000Z	klpkt	genii-around	Yes.
2012-09-22T00:56:00.000Z	genii-around	klpkt	Can you please report the result of: grep wpa /etc/network/interfaces    ( should be 2 lines)
2012-09-22T00:57:00.000Z	klpkt	genii-around	post-up wpa_supplicant -c /etc/wpa.conf [\n] post-down killall wpa_supplicant
2012-09-22T00:58:00.000Z	genii-around	klpkt	The changes were not made. Change: post-up wpa_supplicant -c /etc/wpa.conf   into: post-up wpa_supplicant -iwlan0 -c/etc/wpa.conf
2012-09-22T00:59:00.000Z	klpkt	genii-around	And now it will work?
2012-09-22T01:01:00.000Z	genii-around	klpkt	Ideally, yes.
2012-09-22T01:02:00.000Z	genii-around	klpkt	If that change is made to /etc/network/interfaces   then next boot it should be able to connect.
2012-09-22T01:04:00.000Z	klpkt	genii-around	I did those, and then rebooted, but it doesn't seem to have worked.
2012-09-22T01:07:00.000Z	genii-around	klpkt	When you do: ifconfig wlan0    does it show an IP address has been given?
2012-09-22T01:07:00.000Z	klpkt	genii-around	No
2012-09-22T01:08:00.000Z	genii-around	klpkt	What is the result of: ps aux| grep wpa_supplicant
2012-09-22T01:09:00.000Z	klpkt	genii-around	[username]   2557   0.0   0.0   4368   828 pts/0   S+   23:08   0:00   grep   --color=auto wpa_supplicant
2012-09-22T01:15:00.000Z	klpkt	genii-around	I have to go; do you have some quick hints to help before I quit?
2012-09-22T01:15:00.000Z	genii-around	klpkt	I'll try to find you a link on the wpa stuff
2012-09-22T01:16:00.000Z	genii-around	klpkt	https://help.ubuntu.com/community/WifiDocs/WPAHowTo is old but much of it still applies.
