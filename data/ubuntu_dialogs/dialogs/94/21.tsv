2010-11-02T21:35:00.000Z	m_fulder		hey
2010-11-02T21:35:00.000Z	m_fulder		how can I check who is connected to my network? I.e. all the used local IPs?
2010-11-02T21:36:00.000Z	llutz	m_fulder	sudo lsof -i
2010-11-02T21:38:00.000Z	m_fulder	llutz	that command only shows my own IP and some of the ports Ive opened?
2010-11-02T21:39:00.000Z	llutz	m_fulder	+ the tcp-connections
2010-11-02T21:39:00.000Z	m_fulder	llutz	 I wanted to see all the computers local IP connected to my router (LAN)
2010-11-02T21:41:00.000Z	llutz	m_fulder	sudo nmap -sP 192.168.10.0/24         or whatever your network is
2011-05-05T15:26:00.000Z	llutz	m_fulder	sudo dpkg-reconfigure postfix
2011-05-05T15:26:00.000Z	llutz	m_fulder	or if you just need a smtp-server to send some mails, use msmtp/ssmtp or nullmailer
2011-05-05T15:28:00.000Z	m_fulder	llutz	Im also hosting a webserver on this machine and while trying to send mail with PHP it fails ... so I thought that was because of sendmail failing ... I still need to fix sendmail => postfix to get it working properly ? Or can I still use smtp ?
2011-05-05T15:29:00.000Z	llutz	m_fulder	better use a simple smtp-mailer like those above than a "monster" like postfix
2011-05-05T15:29:00.000Z	llutz	m_fulder	postfix is fine but overkill for just sending some mails
2011-05-05T15:30:00.000Z	llutz	m_fulder	it should be able to use any installed mta
2011-05-05T15:44:00.000Z	llutz	m_fulder	sudo dpkg-reconfigure postfix                 configure to use a smarthost
2011-06-15T13:54:00.000Z	llutz	m_fulder	mail.example.org is part of $mydestination, $myorigin?
2011-06-15T13:58:00.000Z	m_fulder	llutz	ah yeah I've got myorigins set to /etc/mailname where I have mail.example.org
2011-06-15T13:58:00.000Z	m_fulder	llutz	but how come postfix uses that to sendmail and not connect to the external SMTP like in telnet?
2011-06-15T14:00:00.000Z	llutz	m_fulder	if you send mail to mail.example.org via telnet, it will be delivered to your smarthost, not local?
2011-06-15T14:01:00.000Z	m_fulder	llutz	it will?
2011-06-15T14:04:00.000Z	llutz	m_fulder	do you use that postfix just to send mails via php-scripts? you'd consider using msmtp/ssmtp instead, much easier to configure
2011-06-15T14:04:00.000Z	m_fulder	llutz	take a look at my mail log: http://pastebin.com/ndSbexKm .. this is what happends when I try to send mail with my PHP script .. I don't understand line 1-3 but then on line 4 I can see my information correctly .. ie the mail address is the one I input in my php script the relay address is my external host but then on line 4 why is the status=bounced? :S
2011-06-15T14:05:00.000Z	m_fulder	llutz	ah yeah Im using postfix just to send .. hm I could try that but I just got postfix work under telnet so I thought .. it shouldn't be such a big step to get it working with PHP aswell :S
2011-06-15T14:07:00.000Z	llutz	m_fulder	send.one.com[91.198.169.21]  bounces the mail, it refuses to accecpt it. read the reason "why" in E82F3110043E which is local delivered to=<www-data@mail.example.com>
2011-06-15T14:07:00.000Z	llutz	m_fulder	so check mail-inbox of the user, getting those mails
2011-06-15T14:08:00.000Z	m_fulder	llutz	you mean the local-mailbox on my server?
2011-06-15T14:08:00.000Z	llutz	m_fulder	yes, if you compare the queue-IDs: AA182110043D is what you send, E82F3110043E what's been stored local
2011-06-15T14:12:00.000Z	m_fulder	llutz	ok I found the message with the AA182..ID in my local mailbox = /var/mail/www-data .. here it is: http://pastebin.com/hyiV6ekE
2011-06-15T14:13:00.000Z	llutz	m_fulder	do you use mail.example.com literally for testing?
2011-06-15T14:13:00.000Z	m_fulder	llutz	why do I get the line "Sender address rejected: not owned by user" :S has something with the authentication gone wrong? then why did it work just fine with telnet :(
2011-06-15T14:14:00.000Z	m_fulder	llutz	what do you mean? :P that's exaclty my message ^^ and I don't know why I used it I just haven't change the /etc/mailname
2011-06-15T14:16:00.000Z	llutz	m_fulder	check all your configs, you cannot use example.com to really  send mails (thanks IANA.org)
2011-06-15T14:19:00.000Z	llutz	m_fulder	http://www.postfix.org/BASIC_CONFIGURATION_README.html
2011-06-15T14:20:00.000Z	llutz	m_fulder	just a guess: the php-script doesn't create a full sender mail-adr, so $myorigin is appended
2011-06-15T14:21:00.000Z	m_fulder	llutz	ah yeah I think that too .. so wouldn't just changing the myorigins to the same sender mail-adr solve my problem?
2011-06-15T14:21:00.000Z	llutz	m_fulder	it should
2011-06-15T14:23:00.000Z	m_fulder	llutz	but in my /etc/mailname I only had mail.example.com .. where does the www-data come from? :S
2011-06-15T14:23:00.000Z	llutz	m_fulder	thats the user, your webserver runs as
2011-06-15T14:23:00.000Z	llutz	m_fulder	and so does the php-script
2011-06-15T14:24:00.000Z	llutz	m_fulder	postfix could rewrite addresses
2011-06-15T14:25:00.000Z	llutz	m_fulder	http://www.postfix.org/ADDRESS_REWRITING_README.html#generic
2011-06-15T14:35:00.000Z	m_fulder	llutz	ok so I've specified the generic file and entered my mailName@domainName now when I tried to send my message I got  just 3 lines in the mail.log...uid=33 from<www-data> ... messageid=  and from<www-data@myDomain> .. :S it seems like its not using the generic address anyway
2011-06-15T14:47:00.000Z	llutz	m_fulder	it should be used... sry no idea where to look. maybe you better ask at #postfix or, as already mentioned, use msmtp/ssmtp, which is way easier to configure
2011-06-15T14:51:00.000Z	m_fulder	llutz	 oki thanks for your help will try a bit on postfix channel and then if I don't get it working soon I'll jump over to ssmtp
2011-06-15T17:09:00.000Z	m_fulder	llutz	yeah :D
2011-06-15T17:09:00.000Z	m_fulder	llutz	 it finally worked .. I change a bunch of stuff no idea what the fix was xD
2011-08-18T23:11:00.000Z	llutz	m_fulder	sudo netstat -tlpen| grep ":21"
2011-08-18T23:12:00.000Z	m_fulder	llutz	I don't get anything though I've opened both port 20 and 21 to my servercomp
2011-08-18T23:13:00.000Z	llutz	m_fulder	sudo netstat -tlpen| grep ":21"   on the machine running vstftp  has to give something back if it runs
2011-08-18T23:13:00.000Z	m_fulder	llutz	but it doesn't :P
2011-08-18T23:14:00.000Z	llutz	m_fulder	"pgrep vsftpd"
2011-08-18T23:14:00.000Z	m_fulder	llutz	nothing: http://pastebin.com/zCYwKkcm
2011-08-18T23:15:00.000Z	llutz	m_fulder	your vsftpd doesn't run. check /var/log/vsftpd.log
2011-08-18T23:15:00.000Z	m_fulder	llutz	don't have any vsftpd log inthere
2011-08-18T23:16:00.000Z	llutz	m_fulder	check /var/log/syslog  or messages or daemon.log   for any related stuff (sudo grep -ri vsftp /var/log/* )
2011-08-18T23:19:00.000Z	m_fulder	llutz	yeah in daemon.log I got these errors: http://pastebin.com/QUjC6SXL
2011-08-18T23:21:00.000Z	llutz	m_fulder	check config for typos
2011-08-18T23:26:00.000Z	m_fulder	llutz	I can't find anything .. here's my log: http://pastebin.com/tb4G7wat
2011-08-18T23:28:00.000Z	llutz	m_fulder	paste: line 116    does it really have no # in front?
2011-08-18T23:28:00.000Z	m_fulder	llutz	omg yeah -_-
2011-08-18T23:28:00.000Z	llutz	m_fulder	fix and try again
2011-08-18T23:29:00.000Z	m_fulder	llutz	thank you!! :D
2011-08-18T23:30:00.000Z	llutz	m_fulder	does it work now?
2011-08-18T23:30:00.000Z	m_fulder	llutz	yeah :D
2011-08-18T23:30:00.000Z	llutz	m_fulder	fine ;)
2011-08-18T23:30:00.000Z	m_fulder	llutz	sry for beeing stupid hehe :P
2011-08-18T23:30:00.000Z	llutz	m_fulder	its always the simpelst thing
2011-08-19T20:02:00.000Z	llutz	m_fulder	is the recipients domain listed in $mydomain?
2011-08-19T20:03:00.000Z	m_fulder	llutz	should mydomain be in the /etc/postfix/main.cf ? I don't think I got it there
2011-08-19T20:03:00.000Z	llutz	m_fulder	 mydestination*  not mydomain, sry
2011-08-19T20:04:00.000Z	m_fulder	llutz	no the receptionist address is not listed there should I list everyone I will send mail to there :O
2011-08-19T20:04:00.000Z	llutz	m_fulder	you have to define for what domains you accepts mails
2011-08-19T20:05:00.000Z	llutz	m_fulder	accepting all makes you an open-relay
2011-08-19T20:06:00.000Z	m_fulder	llutz	from who I accept to get mails from? Then how is this related to who I am sending my mail to? :P
2011-08-19T20:06:00.000Z	llutz	m_fulder	mydestination = example.com, coolnewdomain.com, localhost.localdomain, localhost                        <- all domain-names you accept mails for (not senders)
2011-08-19T20:07:00.000Z	m_fulder	llutz	hum so if I don't have one mail in the mydestination variable I can't send mail to him :O
2011-08-19T20:08:00.000Z	llutz	m_fulder	for outgoing, you want to look for sasl and set something like " smtpd_recipient_restrictions = permit_sasl_authenticated"
2011-08-19T20:09:00.000Z	llutz	m_fulder	https://help.ubuntu.com/community/Postfix
2011-08-19T20:10:00.000Z	m_fulder	llutz	will check that out :P
2011-08-20T00:40:00.000Z	m_fulder	llutz	you still here .. sry I was drinking abit :P
2011-08-20T00:41:00.000Z	m_fulder	llutz	I have now followed the guide without the authentication part (I have installed postfix 1-2 times before and didn't need to install libsasi2-1, sasl2-bin and libsasi2-modules)..so I have just tried to connect via telnet and AUTH with my email and password as in the sasl_passwd file but then I get this error message: Error: authentication failed: generic failure
2011-08-20T00:45:00.000Z	llutz	m_fulder	you have to use the Base64 encoded password when using telnet
2011-08-20T00:46:00.000Z	llutz	m_fulder	try to increase verbosity to get more helpfull error-messages
2011-08-20T00:54:00.000Z	llutz	m_fulder	check if saslauthd runs at all
2011-08-20T00:54:00.000Z	m_fulder	llutz	increasing verbosity for smtp didn't give me anything new. How can I check if it runs?
2011-08-20T00:55:00.000Z	llutz	m_fulder	pgrep saslauth
2011-08-20T00:55:00.000Z	m_fulder	llutz	don't show anything so I guess its not running :O
2011-08-20T00:56:00.000Z	llutz	m_fulder	service saslauthd start
2011-08-20T00:56:00.000Z	m_fulder	llutz	hm I don't even have it installed :/ .. do I really need that? I thought that postfix could just check a password file to know how to connect
2011-08-20T00:57:00.000Z	m_fulder	llutz	Im trying to just create a SMTP-Server that will connect to another SMTP-Server not create my own from scratch
2011-08-20T00:58:00.000Z	llutz	m_fulder	you'd maybe better ask in #postfix. my setups always use postfix + saslauthd or use dovecot for authentication
2011-08-20T00:58:00.000Z	m_fulder	llutz	ah will do that :P
2011-08-20T01:00:00.000Z	llutz	m_fulder	sudo dpkg-reconfigure postfix            configure "using smarthost"
2011-08-20T01:01:00.000Z	m_fulder	llutz	yeah will try that I choose internet server before I think
2011-08-20T01:05:00.000Z	m_fulder	llutz	hm now I get Error: authentication failed: another step is needed in authentication while trying to AUTH via telnet
