2007-10-21T00:25:00.000Z	erin		Hi, everyone. I just installed 7.10, but it won't boot! I think it's because my old IDE hard drive showed up as SDA and my SATA drive, on which I installed Ubuntu, is SDB. How do I make the SATA drive SDA so it will boot?
2007-10-21T00:25:00.000Z	penguin42	erin	Did you upgrade it or fresh install?
2007-10-21T00:26:00.000Z	penguin42	erin	Do you have the livecd to see what the discs look like and where it has actually got installed?
2007-10-21T00:26:00.000Z	erin	penguin42	Yes, I'm on the liveCD right now.
2007-10-21T00:27:00.000Z	erin	penguin42	Let me check...brb
2007-10-21T00:28:00.000Z	erin	penguin42	It was definitely installed on the SATA drive, which is SDB.
2007-10-21T00:28:00.000Z	penguin42	erin	Ok, when you try and boot what happens?
2007-10-21T00:29:00.000Z	erin	penguin42	WHen I boot up w/o the liveCD, I get Error 22: cannot boot blah blah
2007-10-21T00:29:00.000Z	penguin42	erin	Is the Error 22 from a GRUB screen or does it get any further? How is your sata drive connected?
2007-10-21T00:30:00.000Z	erin	penguin42	Yes, it's after the GRUB screen. The sata drive is internal, connected to the first plugin thing.
2007-10-21T00:31:00.000Z	erin	penguin42	Do you think I can change it in the BIOS as nickrud suggested?
2007-10-21T00:31:00.000Z	penguin42	erin	OK, so boot back into grub and you should be able to get a command line and grub has an autocomplete feature where you hit tab; so type   boot ( and  try and tab complete and see what discs you see - make sure Grub can see it
2007-10-21T00:32:00.000Z	erin	penguin42	Okay, I'll give that a shot. brb
2007-10-21T01:29:00.000Z	erin	penguin42	Hi, again. I'm on a loptop right now, and I still can't get GRUB to boot.
2007-10-21T01:30:00.000Z	penguin42	erin	What happened with the tab complete?
2007-10-21T01:31:00.000Z	erin	penguin42	At the grub command prompt, it didn't work. Tab didn't autocomplete anything.
2007-10-21T01:31:00.000Z	penguin42	erin	even from doing     boot (    and hitting the tab then ?
2007-10-21T01:31:00.000Z	erin	penguin42	Oh, I forgot the (
2007-10-21T01:31:00.000Z	penguin42	erin	So
2007-10-21T01:32:00.000Z	erin	penguin42	Possible disks are fd0 hd0 hd1
2007-10-21T01:32:00.000Z	penguin42	erin	The names of discs in grub typically look like (hd0,1) which is the 2nd partition on the first disc - if you type ( then hit tab it should list hd0 etc
2007-10-21T01:32:00.000Z	penguin42	erin	OK, good it can see both discs, now type (hd1, and hit tab and see the partitions
2007-10-21T01:33:00.000Z	erin	penguin42	It says (hd1,0)
2007-10-21T01:33:00.000Z	penguin42	erin	So that sounds like there is just one partition on the 2nd disc - is that what you expect? or is there also a (hd1,1) ?
2007-10-21T01:35:00.000Z	erin	penguin42	No there should be the Windows partition, /, swap, and /home on one of those.
2007-10-21T01:36:00.000Z	erin	penguin42	Hey, those are all listed under hd0!
2007-10-21T01:36:00.000Z	penguin42	erin	OK, so I think you said that your Linux was on your sdb which normally is hd1 in grub?
2007-10-21T01:37:00.000Z	erin	penguin42	Yes, it was installed to sdb which was hd1 before
2007-10-21T01:37:00.000Z	penguin42	erin	OK, so what partitions do you expect on hd1 ?
2007-10-21T01:38:00.000Z	erin	penguin42	hd1, which is an old IDE drive, should only have the one FAT32 partition
2007-10-21T01:38:00.000Z	penguin42	erin	OK, so where do you expect Linux to be ?
2007-10-21T01:39:00.000Z	erin	penguin42	Linux should be on hd0
2007-10-21T01:39:00.000Z	penguin42	erin	OK, on which partitions?
2007-10-21T01:39:00.000Z	penguin42	erin	I'm confused I thought you said Linux was on sdb which would be hd1?
2007-10-21T01:40:00.000Z	erin	penguin42	It was!
2007-10-21T01:40:00.000Z	penguin42	erin	OK, hmm
2007-10-21T01:40:00.000Z	erin	penguin42	Now it looks like it changed to hd0 or sda!
2007-10-21T01:40:00.000Z	penguin42	erin	I think it might be that grub and Linux have different ideas of which drive is the first one
2007-10-21T01:41:00.000Z	erin	penguin42	So, how do I fix that?
2007-10-21T01:41:00.000Z	erin	penguin42	Should I reinstall Ubuntu again?
2007-10-21T01:41:00.000Z	penguin42	erin	No, don't reinstall
2007-10-21T01:41:00.000Z	penguin42	erin	When you are at the grub menu you can press 'e' to edit - everywhere that you see (hd1 change it to an hd0 on all the lines and see if you can get it to boot
2007-10-21T01:42:00.000Z	erin	penguin42	Okay, doing it now
2007-10-21T01:43:00.000Z	erin	penguin42	okay, it says root (hd1,1) which  isn't correct
2007-10-21T01:43:00.000Z	penguin42	erin	Nod, so yeh get them all to be (hd0,whatever  and see if it boots
2007-10-21T01:44:00.000Z	erin	penguin42	Okay, changin it
2007-10-21T01:46:00.000Z	erin	penguin42	Do you know how to save the setting when I change to "root (hd0,2)"?
2007-10-21T01:47:00.000Z	penguin42	erin	Well the file is /boot/grub/menu.lst
2007-10-21T01:47:00.000Z	penguin42	erin	But I'd worry that next time you get a kernel upgrade it will break again
2007-10-21T01:47:00.000Z	erin	penguin42	So, should I still try  to reinstall?
2007-10-21T01:48:00.000Z	erin	penguin42	Or should I reset CMOS with a jumper?
2007-10-21T01:48:00.000Z	penguin42	erin	No, I don't think a reinstall will help you - it sounds like a bug in the grub detection for your machine
2007-10-21T01:48:00.000Z	penguin42	erin	Lets see if you can get it to boot first!
2007-10-21T01:49:00.000Z	erin	penguin42	Okay, I'm trying again
2007-10-21T01:50:00.000Z	erin	penguin42	Hey, I hit "b" at the boot edit menu and I have a Gutsy login screen!
2007-10-21T01:51:00.000Z	penguin42	erin	When you do get it to boot look at the /boot/grub/device.map - I think you'll find it doesn't correspond to the way you expect
2007-10-21T01:52:00.000Z	erin	penguin42	Okay, looking for it
2007-10-21T01:54:00.000Z	erin	penguin42	I did a gedit on /boot/grub/device.map and I see (hd0) /dev/sda   and   (hd1) /dev/sdb
2007-10-21T01:54:00.000Z	penguin42	erin	Right - but you think that's the wrong way around don't you?
2007-10-21T01:55:00.000Z	erin	penguin42	well, when I installed, I put linux on SDB.
2007-10-21T01:55:00.000Z	penguin42	erin	So I think you need to swap the sda and sdb in device.map; I think that will fix it next time grub gets reinstalled - I'm just not sure if you also are going to have to swap menu.lst or whether that is like a double swap
2007-10-21T01:56:00.000Z	penguin42	erin	I think you'll find it is still on sdb
2007-10-21T01:57:00.000Z	erin	penguin42	So I just change sda and sdb, save, and reboot?
2007-10-21T01:58:00.000Z	penguin42	erin	I think changing the device.map will only change things for a grub update, not for your next reboot
2007-10-21T01:58:00.000Z	penguin42	erin	I think what will get it working immediately is changing the menu.lst once you get it to boot
2007-10-21T01:59:00.000Z	erin	penguin42	What should I change in Menu.lst?
2007-10-21T01:59:00.000Z	penguin42	erin	The (hd1's to (hd0's  like you are doing on the grub edit
2007-10-21T01:59:00.000Z	erin	penguin42	Okay, rebooting
2007-10-21T02:00:00.000Z	erin	penguin42	Yeah, I had to edit boot again to boot up. should I edit menu.lst now?
2007-10-21T02:01:00.000Z	penguin42	erin	Yeh I'd edit menu.lst
2007-10-21T02:01:00.000Z	erin	penguin42	Okay,, looking
2007-10-21T02:02:00.000Z	penguin42	erin	 If that boots then edit the device.map and if it ever breaks again try putting the menu.lst back; oh - and please bug report it with details of your machine
2007-10-21T02:02:00.000Z	erin	penguin42	Okay, trying
2007-10-21T02:05:00.000Z	erin	penguin42	Holy cats! There's a lot of options here. Would you mind looking at a pastebin of it?
2007-10-21T02:05:00.000Z	penguin42	erin	Sure
2007-10-21T02:07:00.000Z	erin	penguin42	Here it is: http://pastebin.com/m61942e71
2007-10-21T02:07:00.000Z	penguin42	erin	OK, so scroll down to about line 131 where there is root (hd1,1)
2007-10-21T02:07:00.000Z	penguin42	erin	Flip that and the other two root line sto (hd0,1)
2007-10-21T02:08:00.000Z	penguin42	erin	Oooooh - hang on!
2007-10-21T02:08:00.000Z	erin	penguin42	Okay, hanging on
2007-10-21T02:09:00.000Z	penguin42	erin	OK, do that (hd0,1) stuff - now the thing I don't know is what that magic at the 2 map lines is near the bottom - I wonder if that is the problem
2007-10-21T02:09:00.000Z	erin	penguin42	Hmm... Well, I'll change those hd1 lines first
2007-10-21T02:12:00.000Z	erin	penguin42	I made the changes, but I don't understand that stuff about map and all that. By the way, I made a backupcopy of the original and new version of this.
2007-10-21T02:13:00.000Z	penguin42	erin	I think it is trying to do something clever to swap the discs around before it boots Windows - but I'm wondering if that is what is confusing it in the first place; but I suspect not
2007-10-21T02:13:00.000Z	erin	penguin42	What would happen if I erased those lines?
2007-10-21T02:14:00.000Z	erin	penguin42	Or commented them out
2007-10-21T02:14:00.000Z	penguin42	erin	Not sure - something would be more or less confused :-) But I suspect they are irrelevant to the problem of booting Linux
2007-10-21T02:14:00.000Z	erin	penguin42	So, how about I comment them out and reboot it?
2007-10-21T02:17:00.000Z	erin	penguin42	Hey, I commented out the weirdswap line, rebooted, and I'm logged in!
2007-10-21T02:18:00.000Z	penguin42	erin	Cool - was that just the weird swap line you commented out?
2007-10-21T02:18:00.000Z	penguin42	erin	I don't know!  I'm not sure what put that map in
2007-10-21T02:19:00.000Z	erin	penguin42	Well, we'll just have to see. Hey, thanks for all the help!
2007-10-21T02:20:00.000Z	penguin42	erin	Hey no problem - can you bug report it please with details of your hardware and a copy of the menu.lst and device.map it created
